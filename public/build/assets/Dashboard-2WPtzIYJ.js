import{s as ge,r,m as h,x as ye,y as he,c as we,w as M,a as e,d as p,e as C,t as d,b as B,u as S,k as L,i as v,z as D,v as O,n as T,o as c,F as P,g as z,A as F}from"./app-ChFF5mRA.js";import{_ as ke}from"./AppLayout-BZ5dHkpf.js";import{P as se}from"./bootstrap-Babreq_b.js";import{_ as _e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-C0aHVGZJ.js";const Ce={class:"py-6 md:py-10"},Se={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Te={class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6"},$e={class:"rounded-2xl bg-white shadow border border-gray-100"},je={class:"p-6 flex items-center justify-center"},Ee={class:"flex flex-col items-center justify-center"},Me={class:"mt-1 text-3xl font-semibold"},De={class:"rounded-2xl bg-white shadow border border-gray-100"},Pe={class:"p-6 flex items-center justify-center"},Re={class:"flex flex-col items-center justify-center"},Ne={class:"mt-1 text-3xl font-semibold"},Ue={class:"rounded-2xl bg-white shadow border border-gray-100"},Ae={class:"p-6 flex items-center justify-center"},qe={class:"flex flex-col items-center justify-center"},Ve={class:"mt-1 text-3xl font-semibold"},Be={class:"mt-6 md:mt-8"},Le={class:"mt-6 md:mt-8"},Oe={class:"rounded-2xl bg-white shadow border border-gray-100 px-4 md:px-6 py-6"},ze={class:"flex flex-col md:flex-row md:items-center md:space-x-6 space-y-4 md:space-y-0"},Fe={class:"flex-1 flex flex-col md:flex-row gap-3 md:gap-0"},Ie={class:"w-full md:w-48"},He={class:"w-full"},Ye=["placeholder"],Qe={class:"mt-6 md:mt-8"},Ke={class:"mt-2"},Xe={class:"rounded-2xl bg-white shadow border border-gray-100"},We={class:"px-4 md:px-6 pt-5 flex items-center justify-between"},Ge={class:"flex space-x-6"},Je={class:"flex items-center space-x-6 text-gray-700 font-medium"},Ze={class:"mt-4 overflow-x-auto"},et={class:"min-w-full divide-y divide-gray-200"},tt={key:0},st={class:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap"},lt={class:"px-6 py-4 whitespace-nowrap"},ot=["onClick","disabled"],rt={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},at={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},nt={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},it={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},dt={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},ut={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},ct={class:"px-6 py-4 text-sm text-gray-700 flex items-center space-x-3"},pt=["onClick"],vt={class:"px-4 md:px-6 py-4 flex items-center justify-between"},mt={class:"flex items-center space-x-2"},xt={class:"flex items-center space-x-2"},bt=["disabled"],ft={class:"px-3"},gt=["disabled"],yt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},ht={class:"relative w-full max-w-lg mx-auto bg-white rounded-2xl shadow-xl"},wt={class:"px-6 py-4 flex items-center justify-between border-b"},kt={class:"px-6 py-6 grid grid-cols-1 md:grid-cols-2 gap-4"},_t=["value"],Ct=["value"],St={class:"px-6 pb-6 flex flex-col space-y-3 items-center justify-between"},Tt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center"},$t={class:"relative w-full max-w-md mx-auto bg-white rounded-2xl shadow-xl"},jt={class:"px-6 py-4 flex items-center justify-between border-b"},Et={class:"px-6 py-6 space-y-3"},Mt={class:"px-6 pb-6"},Dt=["disabled"],Pt={key:2,class:"fixed inset-0 z-50 flex items-center justify-center"},Rt={class:"relative w-full max-w-md mx-auto bg-white rounded-2xl shadow-xl"},Nt={class:"px-6 py-4 flex items-center justify-between border-b"},Ut={class:"text-lg font-semibold text-gray-800"},At={class:"px-6 py-6 text-center"},qt={class:"inline-block p-3 border rounded-xl"},Vt=["src"],Bt="/icons/print.svg",Lt={__name:"Dashboard",props:{stats:Object,recentTickets:{type:Array,default:()=>[]},sites:{type:Array,default:()=>[]},currentSite:{type:String,default:""},auth:{type:Object,default:()=>({})}},setup($,{expose:le}){var W,G;const{proxy:j}=ge(),a=$;r(!1);const oe=h(()=>a.sites&&a.sites.length?a.sites:[{label:a.currentSite||"Sales Center Diriyah",value:a.currentSite||"sales-center-diriyah"}]);r(localStorage.getItem("uv:selectedSite")||((W=oe.value[0])==null?void 0:W.label)||"Sales Center Diriyah");const w=r("all"),x=r(""),E=r(""),re=h(()=>x.value==="phone"?"Request Search":x.value==="ticket"?"Ticket Number":x.value==="plate"?"Car Plate":"Request Search"),I=h(()=>a.recentTickets?w.value==="requested"?a.recentTickets.filter(l=>l.status==="in_progress"):a.recentTickets:[]),R=h(()=>{if(!E.value)return I.value;const l=String(E.value).toLowerCase();return I.value.filter(t=>x.value==="phone"?String(t.customer_phone||t.customer_phone_number||"").toLowerCase().includes(l):x.value==="ticket"?String(t.reference||t.id||"").toLowerCase().includes(l):x.value==="plate"?String(t.car_plate||"").toLowerCase().includes(l):String(t.reference||"").toLowerCase().includes(l)||String(t.customer_phone||"").toLowerCase().includes(l))}),k=r(10),b=r(1),N=h(()=>Math.max(1,Math.ceil(R.value.length/k.value))),ae=h(()=>{b.value>N.value&&(b.value=N.value);const l=(b.value-1)*k.value;return R.value.slice(l,l+k.value)}),ne=()=>{},ie=l=>{const t=String(l||"").toLowerCase();return t.includes("pending")?"bg-amber-100 text-amber-700":t.includes("in_progress")?"bg-blue-100 text-blue-700":t.includes("ready")?"bg-fuchsia-100 text-fuchsia-700":t.includes("delivered")||t.includes("deliver")?"bg-emerald-100 text-emerald-700":t.includes("cancelled")?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-700"},de=l=>l?new Date(l).toLocaleString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"-",ue=l=>{const t=String(l||"").toLowerCase();return t==="pending"?"CAR PARKED":t==="in_progress"?"CAR REQUESTED BY CUSTOMER":t==="ready"?"CAR READY BY EMPLOYEE":t==="delivered"?"CAR DELIVERED BY EMPLOYEE":t==="cancelled"||t==="canceled"?"CANCELLED":(l||"").toString().replaceAll("_"," ").toUpperCase()},g=r(!1),H=r(new Date().toISOString().slice(0,10)),Y=r(new Date().toISOString().slice(0,10)),Q=Array.from({length:24},(l,t)=>{const u=(t+11)%12+1,i=t<12?"AM":"PM";return`${u}:00${i}`}),K=r("12:00PM"),X=r("4:00AM"),ce=()=>{g.value=!1,j.$toast.success("Report filters applied")},_=r(!1),n=r("ready"),f=r(null),pe=l=>{f.value=l,l.status==="pending"||l.status==="in_progress"?n.value="ready":l.status==="ready"&&(n.value="delivered"),_.value=!0},ve=async()=>{var l,t;if(f.value)try{const i=(await axios.post(route("tenant.tickets.status.update",{ticket:f.value.id}),{status:n.value})).data.ticket,o=a.recentTickets.findIndex(y=>y.id===i.id);o!==-1&&(a.recentTickets[o]={...a.recentTickets[o],...i}),_.value=!1,j.$toast.success("Ticket status updated successfully!")}catch(u){console.error("Error updating ticket status:",u);const i=((t=(l=u.response)==null?void 0:l.data)==null?void 0:t.message)||"Failed to update ticket status. Please try again.";j.$toast.error(i)}};r([]);const U=l=>{console.log("Showing notification:",l),j.$toast.info(`<div class="flex flex-col"><span class="font-semibold">${l.title}</span><span class="text-sm">${l.message}</span>${l.url?`<a href="${l.url}" class="text-blue-500 hover:underline mt-1 text-xs">View Details →</a>`:""}</div>`,{position:"top-right",autoClose:8e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastClassName:"!bg-white !text-gray-800 !shadow-lg",bodyClassName:"p-0"})},m=r(null),A=r(null),q=r(null),V=r(null),me=((G=document.head.querySelector('meta[name="csrf-token"]'))==null?void 0:G.content)||"",xe=()=>{var l,t,u,i;try{se.logToConsole=!0,m.value=new se("14602cb8bb24782a9fb8",{cluster:"ap2",forceTLS:!0,encrypted:!0,authEndpoint:"/broadcasting/auth",auth:{headers:{"X-CSRF-TOKEN":me,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}}),console.log("Pusher initialized with key:","14602cb8bb24782a9fb8"),(t=(l=a.auth)==null?void 0:l.user)!=null&&t.id&&(console.log("Subscribing to private-user channel for user:",a.auth.user.id),A.value=m.value.subscribe(`private-user.${a.auth.user.id}`),A.value.bind("vehicle.requested",o=>{console.log("Car requested:",o),U({title:"New Vehicle Request",message:o.message,type:"info",action:o.ticket_id?{text:"View",onClick:()=>{window.location.href=route("tenant.tickets.show",o.ticket_id)}}:null,ticketId:o.ticket_id})})),(i=(u=a.auth)==null?void 0:u.user)!=null&&i.tenant_id&&(q.value=m.value.subscribe(`private-organization.${a.auth.user.tenant_id}`),q.value.bind("ticket.updated",o=>{var y;console.log("Ticket updated:",o),(y=o.ticket)!=null&&y.id&&U({title:"Ticket Updated",message:`Ticket #${o.ticket.id} has been updated`,type:"info",action:{text:"View",onClick:()=>{window.location.href=route("tenant.tickets.show",o.ticket.id)}}})})),V.value=m.value.subscribe("new_user_channel"),V.value.bind("App\\Events\\NewUserRegisterEvent",o=>{console.log("New user registered:",o)})}catch(o){console.error("Error initializing Pusher:",o)}};ye(()=>{xe()}),he(()=>{var l,t,u,i;m.value&&(A.value&&m.value.unsubscribe(`private-user.${(t=(l=a.auth)==null?void 0:l.user)==null?void 0:t.id}`),q.value&&m.value.unsubscribe(`private-organization.${(i=(u=a.auth)==null?void 0:u.user)==null?void 0:i.tenant_id}`),V.value&&m.value.unsubscribe("new_user_channel"),m.value.disconnect())});const be=l=>{window.open(route("tenant.tickets.print",{ticket:l.id}),"_blank","width=800,height=600")};return le({showNotification:U}),(l,t)=>(c(),we(ke,{title:"Dashboard"},{default:M(()=>{var u,i,o,y,J,Z,ee,te;return[e("div",Ce,[e("div",Se,[e("div",Te,[e("div",$e,[e("div",je,[e("div",Ee,[t[26]||(t[26]=e("p",{class:"text-sm text-gray-500"},"New",-1)),e("p",Me,d(((u=$.stats)==null?void 0:u.new_count)??0),1)])])]),e("div",De,[e("div",Pe,[e("div",Re,[t[27]||(t[27]=e("p",{class:"text-sm text-gray-500"},"Requested",-1)),e("p",Ne,d(((i=$.stats)==null?void 0:i.requested_count)??0),1)])])]),e("div",Ue,[e("div",Ae,[e("div",qe,[t[28]||(t[28]=e("p",{class:"text-sm text-gray-500"},"Delivered",-1)),e("p",Ve,d(((o=$.stats)==null?void 0:o.delivered_count)??0),1)])])])]),e("div",Be,[B(S(L),{href:l.route("tenant.tickets.create"),class:"block bg-primary w-full inline-flex items-center justify-center rounded-full text-white h-12 px-6 md:px-10 font-medium"},{default:M(()=>[...t[29]||(t[29]=[e("span",{class:"text-lg"},"+ Add Ticket",-1)])]),_:1},8,["href"])]),e("div",Le,[e("div",Oe,[e("div",ze,[e("div",Fe,[e("div",Ie,[v(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),class:"block w-full h-12 rounded-xl border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 text-gray-700"},[...t[30]||(t[30]=[e("option",{disabled:"",value:""},"Select Search By",-1),e("option",{value:"phone"},"Customer Phone Number",-1),e("option",{value:"ticket"},"Ticket Number",-1),e("option",{value:"plate"},"Car Plate",-1)])],512),[[D,x.value]])]),e("div",He,[v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>E.value=s),placeholder:re.value,class:"block w-full h-12 rounded-xl border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 px-4 md:ml-3"},null,8,Ye),[[O,E.value]])])])])])]),e("div",Qe,[e("button",{type:"button",onClick:t[2]||(t[2]=s=>g.value=!0),class:"w-full md:w-auto inline-flex items-center justify-center h-12 px-6 rounded-full border border-indigo-300 text-indigo-700 hover:bg-indigo-50"},"Daily Report")]),e("div",Ke,[e("div",Xe,[e("div",We,[e("div",Ge,[e("button",{onClick:t[3]||(t[3]=s=>w.value="all"),class:T([w.value==="all"?"border-b-2 border-primary text-primary":"text-gray-500 hover:text-primary","pb-3 font-semibold focus:outline-none transition-colors duration-200"])}," All Tickets ",2),e("button",{onClick:t[4]||(t[4]=s=>w.value="requested"),class:T([w.value==="requested"?"border-b-2 border-primary text-primary":"text-gray-500 hover:text-primary","pb-3 font-semibold focus:outline-none transition-colors duration-200"])}," Requested Cars ",2)]),e("div",Je,[e("button",{class:"hover:text-primary transition-colors duration-200",onClick:ne}," Sort "),e("button",{class:"hover:text-primary transition-colors duration-200",onClick:t[5]||(t[5]=s=>g.value=!0)}," Date ")])]),e("div",Ze,[e("table",et,[t[35]||(t[35]=e("thead",{class:"bg-indigo-900/95 text-white"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Ticket Number"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Status"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Customer Need Car at"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Customer Phone Number"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Total Price/Payment Status"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Car Brand"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Car Plate"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Note"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold"})])],-1)),e("tbody",null,[R.value.length===0?(c(),p("tr",tt,[...t[31]||(t[31]=[e("td",{colspan:"9",class:"px-6 py-16 text-center text-gray-500"},[e("div",{class:"inline-flex flex-col items-center"},[e("svg",{class:"h-12 w-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7h18M3 12h18M3 17h18"})]),e("span",{class:"mt-3"},"No Data")])],-1)])])):C("",!0),(c(!0),p(P,null,z(ae.value,s=>(c(),p("tr",{key:s.id,class:"odd:bg-white even:bg-gray-50"},[e("td",st,d(s.reference),1),e("td",lt,[e("button",{onClick:fe=>s.status!=="delivered"&&pe(s),class:T([[ie(s.status),s.status==="delivered"?"opacity-70 cursor-not-allowed":"cursor-pointer"],"px-3 py-1 rounded-full text-xs font-semibold uppercase"]),disabled:s.status==="delivered"},d(ue(s.status)),11,ot)]),e("td",rt,d(de(s.need_at)),1),e("td",at,d(s.customer_phone||s.customer_phone_number||"-"),1),e("td",nt,d(s.total_price??"Free"),1),e("td",it,d(s.car_brand||"-"),1),e("td",dt,d(s.car_plate||"-"),1),e("td",ut,d(s.note||"-"),1),e("td",ct,[B(S(L),{href:l.route("tenant.tickets.show",s.id),class:"hover:text-indigo-900"},{default:M(()=>[...t[32]||(t[32]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])]),_:1},8,["href"]),B(S(L),{href:l.route("tenant.tickets.edit",s.id),class:"text-black-500 mr-3"},{default:M(()=>[...t[33]||(t[33]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),e("button",{class:"hover:text-indigo-900",onClick:fe=>be(s)},[...t[34]||(t[34]=[e("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1)])],8,pt)])]))),128))])])]),e("div",vt,[e("div",mt,[v(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>k.value=s),class:"h-9 rounded-lg border-gray-300 text-sm"},[...t[36]||(t[36]=[e("option",{value:10},"10 / page",-1),e("option",{value:20},"20 / page",-1),e("option",{value:50},"50 / page",-1)])],512),[[D,k.value,void 0,{number:!0}]])]),e("div",xt,[e("button",{class:"h-9 w-9 rounded-md border border-gray-300 disabled:opacity-40",disabled:b.value===1,onClick:t[7]||(t[7]=s=>b.value--)},"«",8,bt),e("span",ft,d(b.value),1),e("button",{class:"h-9 w-9 rounded-md border border-gray-300 disabled:opacity-40",disabled:b.value>=N.value,onClick:t[8]||(t[8]=s=>b.value++)},"»",8,gt)])])])])])]),g.value?(c(),p("div",yt,[e("div",{class:"absolute inset-0 bg-black/40",onClick:t[9]||(t[9]=s=>g.value=!1)}),e("div",ht,[e("div",wt,[t[37]||(t[37]=e("h3",{class:"text-lg font-semibold text-gray-800"},"Select Date",-1)),e("button",{class:"text-red-500",onClick:t[10]||(t[10]=s=>g.value=!1)},"✕")]),e("div",kt,[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm text-gray-600 mb-1"},"From",-1)),v(e("input",{type:"date","onUpdate:modelValue":t[11]||(t[11]=s=>H.value=s),class:"block w-full rounded-lg border-gray-300"},null,512),[[O,H.value]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm text-gray-600 mb-1"},"To",-1)),v(e("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=s=>Y.value=s),class:"block w-full rounded-lg border-gray-300"},null,512),[[O,Y.value]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm text-gray-600 mb-1"},"From",-1)),v(e("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>K.value=s),class:"block w-full rounded-lg border-gray-300"},[(c(!0),p(P,null,z(S(Q),s=>(c(),p("option",{key:"f-"+s,value:s},d(s),9,_t))),128))],512),[[D,K.value]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm text-gray-600 mb-1"},"To",-1)),v(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>X.value=s),class:"block w-full rounded-lg border-gray-300"},[(c(!0),p(P,null,z(S(Q),s=>(c(),p("option",{key:"t-"+s,value:s},d(s),9,Ct))),128))],512),[[D,X.value]])])]),e("div",St,[e("button",{class:"block w-full h-12 px-8 rounded-full bg-primary text-white hover:bg-primary-dark",onClick:ce},"Ok"),e("button",{class:"block w-full h-12 px-8 rounded-full border border-gray-300",onClick:t[15]||(t[15]=s=>g.value=!1)},"Cancel")])])])):C("",!0),_.value?(c(),p("div",Tt,[e("div",{class:"absolute inset-0 bg-black/40",onClick:t[16]||(t[16]=s=>_.value=!1)}),e("div",$t,[e("div",jt,[t[42]||(t[42]=e("h3",{class:"text-lg font-semibold text-gray-800"},"UPDATE TICKET STATUS",-1)),e("button",{class:"text-red-500",onClick:t[17]||(t[17]=s=>_.value=!1)},"✕")]),e("div",Et,[((y=f.value)==null?void 0:y.status)==="pending"||((J=f.value)==null?void 0:J.status)==="in_progress"?(c(),p(P,{key:0},[e("label",{class:T(["flex items-center justify-between p-4 rounded-xl border cursor-pointer",n.value==="ready"?"border-fuchsia-500 bg-fuchsia-50":"border-gray-200"]),onClick:t[19]||(t[19]=s=>n.value="ready")},[t[43]||(t[43]=e("div",{class:"flex items-center space-x-3"},[e("span",{class:"h-3 w-3 rounded-full bg-fuchsia-600"}),e("span",{class:"text-fuchsia-700 font-medium"},"Car Ready By Employee")],-1)),v(e("input",{type:"radio",class:"hidden",value:"ready","onUpdate:modelValue":t[18]||(t[18]=s=>n.value=s)},null,512),[[F,n.value]])],2),e("label",{class:T(["flex items-center justify-between p-4 rounded-xl border cursor-pointer",n.value==="delivered"?"border-emerald-500 bg-emerald-50":"border-gray-200"]),onClick:t[21]||(t[21]=s=>n.value="delivered")},[t[44]||(t[44]=e("div",{class:"flex items-center space-x-3"},[e("span",{class:"h-3 w-3 rounded-full bg-emerald-600"}),e("span",{class:"text-emerald-700 font-medium"},"Car Delivered By Employee")],-1)),v(e("input",{type:"radio",class:"hidden",value:"delivered","onUpdate:modelValue":t[20]||(t[20]=s=>n.value=s)},null,512),[[F,n.value]])],2)],64)):((Z=f.value)==null?void 0:Z.status)==="ready"?(c(),p("label",{key:1,class:"flex items-center justify-between p-4 rounded-xl border cursor-pointer border-emerald-500 bg-emerald-50",onClick:t[23]||(t[23]=s=>n.value="delivered")},[t[45]||(t[45]=e("div",{class:"flex items-center space-x-3"},[e("span",{class:"h-3 w-3 rounded-full bg-emerald-600"}),e("span",{class:"text-emerald-700 font-medium"},"Car Delivered By Employee")],-1)),v(e("input",{type:"radio",class:"hidden",value:"delivered","onUpdate:modelValue":t[22]||(t[22]=s=>n.value=s),checked:""},null,512),[[F,n.value]])])):C("",!0)]),e("div",Mt,[e("button",{class:"w-full h-12 rounded-full bg-primary hover:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed",onClick:ve,disabled:!n.value}," Update Status ",8,Dt)])])])):C("",!0),l.qrModalOpen?(c(),p("div",Pt,[e("div",{class:"absolute inset-0 bg-black/40",onClick:t[24]||(t[24]=s=>l.qrModalOpen=!1)}),e("div",Rt,[e("div",Nt,[e("h3",Ut,"Ticket Number# "+d((ee=f.value)==null?void 0:ee.reference),1),e("button",{class:"text-red-500",onClick:t[25]||(t[25]=s=>l.qrModalOpen=!1)},"✕")]),e("div",At,[e("div",qt,[e("img",{src:((te=f.value)==null?void 0:te.qr_url)||Bt,alt:"QR",class:"h-40 w-40 object-contain"},null,8,Vt)]),t[46]||(t[46]=e("div",{class:"mt-6 space-y-3"},[e("button",{class:"w-full h-11 rounded-xl border border-indigo-300 text-indigo-700"},"Print Full Ticker QR"),e("button",{class:"w-full h-11 rounded-xl border border-indigo-300 text-indigo-700"},"Print Ticket Number")],-1))])])])):C("",!0)]}),_:1}))}},Yt=_e(Lt,[["__scopeId","data-v-14692ce7"]]);export{Yt as default};
