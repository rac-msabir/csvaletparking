import{r as x,c as b,w as o,a as e,b as r,d as m,e as k,o as c,F as C,g as T,t as a,n as f,u as _,k as h,f as i,T as D}from"./app-DVAcbOxN.js";import{_ as N}from"./AppLayout-DVPZ-qVt.js";import{_ as S}from"./ConfirmationModal-BhPpHo6O.js";import{_ as A}from"./DangerButton-D_rJvdsd.js";import{_ as V}from"./SecondaryButton-CCWOM75N.js";import"./ResponsiveNavLink-FlwpS0Cp.js";import"./Modal-CMnJhvoN.js";const $={class:"flex justify-between items-center"},B={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},E={class:"p-6 lg:p-8 bg-white border-b border-gray-200"},L={class:"overflow-x-auto"},M={class:"min-w-full divide-y divide-gray-200"},U={class:"bg-white divide-y divide-gray-200"},z={class:"px-6 py-4 whitespace-nowrap"},I={class:"text-sm font-medium text-gray-900"},O={class:"px-6 py-4 whitespace-nowrap"},q={class:"text-sm text-gray-900"},G={class:"text-sm text-gray-500"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm text-gray-900"},K={class:"text-sm text-gray-500"},P={class:"px-6 py-4 whitespace-nowrap"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},R={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},W={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},X=["onClick"],Y={key:0},re={__name:"Index",props:{tickets:Object},setup(g){const u=x(!1),l=x(!1),d=x(null),y=n=>{d.value=n,u.value=!0},p=()=>{u.value=!1,d.value=null},w=()=>{d.value&&(l.value=!0,D().delete(route("tenant.tickets.destroy",d.value.id),{preserveScroll:!0,onSuccess:()=>p(),onFinish:()=>l.value=!1}))},v=n=>{if(!n)return"N/A";const t={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};return new Date(n).toLocaleString("en-US",t)};return(n,t)=>(c(),b(N,null,{header:o(()=>[e("div",$,[t[1]||(t[1]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Ticket Management ",-1)),r(_(h),{href:n.route("tenant.tickets.create"),class:"inline-flex items-center px-4 py-2 bg-primary border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:o(()=>[...t[0]||(t[0]=[i(" New Ticket ",-1)])]),_:1},8,["href"])])]),default:o(()=>[e("div",B,[e("div",F,[e("div",j,[e("div",E,[e("div",L,[e("table",M,[t[4]||(t[4]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ticket #"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Customer"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Vehicle"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Assigned To"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Check-in"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",U,[(c(!0),m(C,null,T(g.tickets.data,s=>(c(),m("tr",{key:s.id},[e("td",z,[e("div",I,a(s.ticket_number),1)]),e("td",O,[e("div",q,a(s.customer_name),1),e("div",G,a(s.customer_phone),1)]),e("td",H,[e("div",J,a(s.vehicle_make)+" "+a(s.vehicle_model),1),e("div",K,a(s.license_plate||"N/A"),1)]),e("td",P,[e("span",{class:f({"px-2 inline-flex text-xs leading-5 font-semibold rounded-full":!0,"bg-yellow-100 text-yellow-800":s.status==="pending","bg-blue-100 text-blue-800":s.status==="in_progress","bg-green-100 text-green-800":s.status==="ready","bg-purple-100 text-purple-800":s.status==="delivered","bg-red-100 text-red-800":s.status==="cancelled"})},a(s.status.replace("_"," ")),3)]),e("td",Q,a(s.assigned_to?s.assigned_to.name:"Unassigned"),1),e("td",R,a(v(s.check_in_at)),1),e("td",W,[r(_(h),{href:n.route("tenant.tickets.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:o(()=>[...t[2]||(t[2]=[i("Edit",-1)])]),_:1},8,["href"]),e("button",{onClick:Z=>y(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,X)])]))),128)),g.tickets.data.length===0?(c(),m("tr",Y,[...t[3]||(t[3]=[e("td",{colspan:"7",class:"px-6 py-4 text-center text-sm text-gray-500"}," No tickets found. ",-1)])])):k("",!0)])])])])])])]),r(S,{show:u.value,onClose:p},{title:o(()=>[...t[5]||(t[5]=[i(" Delete Ticket ",-1)])]),content:o(()=>[...t[6]||(t[6]=[i(" Are you sure you want to delete this ticket? This action cannot be undone. ",-1)])]),footer:o(()=>[r(V,{onClick:p},{default:o(()=>[...t[7]||(t[7]=[i("Cancel",-1)])]),_:1}),r(A,{class:f(["ml-2",{"opacity-25":l.value}]),disabled:l.value,onClick:w},{default:o(()=>[...t[8]||(t[8]=[i("Delete",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{re as default};
