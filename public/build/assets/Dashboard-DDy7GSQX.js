import{s as ve,r as a,m as w,x as xe,y as be,c as fe,w as R,a as e,d as c,e as S,t as i,b as N,u as E,k as B,i as m,z,v as V,n as $,o as u,F as q,g as L,A as O}from"./app-ChFF5mRA.js";import{_ as ge}from"./AppLayout-BZ5dHkpf.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./bootstrap-Babreq_b.js";import"./ResponsiveNavLink-C0aHVGZJ.js";const ye={class:"py-6 md:py-10"},we={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ke={class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6"},_e={class:"rounded-2xl bg-white shadow border border-gray-100"},Ce={class:"p-6 flex items-center justify-center"},Se={class:"flex flex-col items-center justify-center"},Ee={class:"mt-1 text-3xl font-semibold text-gray-900"},$e={class:"rounded-2xl bg-white shadow border border-gray-100"},Te={class:"p-6 flex items-center justify-center"},je={class:"flex flex-col items-center justify-center"},De={class:"mt-1 text-3xl font-semibold text-gray-900"},Me={class:"rounded-2xl bg-white shadow border border-gray-100"},Re={class:"p-6 flex items-center justify-center"},ze={class:"flex flex-col items-center justify-center"},qe={class:"mt-1 text-3xl font-semibold text-gray-900"},Ae={class:"mt-6 md:mt-8"},Pe={class:"mt-6 md:mt-8"},Ue={class:"rounded-2xl bg-white shadow border border-gray-100 px-4 md:px-6 py-6"},Ne={class:"flex flex-col md:flex-row md:items-center md:space-x-6 space-y-4 md:space-y-0"},Be={class:"flex-1 flex space-x-3"},Ve={class:"w-48"},Le={class:"flex-1"},Oe=["placeholder"],Ie={class:"mt-6 md:mt-8"},Fe={class:"mt-2"},Ye={class:"rounded-2xl bg-white shadow border border-gray-100"},Qe={class:"px-4 md:px-6 pt-5 flex items-center justify-between"},He={class:"flex space-x-6"},Ke={class:"flex items-center space-x-6 text-indigo-700 font-medium"},Ge={class:"mt-4 overflow-x-auto"},Je={class:"min-w-full divide-y divide-gray-200"},We={key:0},Xe={class:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap"},Ze={class:"px-6 py-4 whitespace-nowrap"},et=["onClick","disabled"],tt={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},st={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},ot={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},lt={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},rt={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},nt={class:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap"},at={class:"px-6 py-4 text-sm text-gray-700 flex items-center space-x-3"},it=["onClick"],dt={class:"px-4 md:px-6 py-4 flex items-center justify-between"},ut={class:"flex items-center space-x-2"},ct={class:"flex items-center space-x-2"},pt=["disabled"],mt={class:"px-3"},vt=["disabled"],xt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},bt={class:"relative w-full max-w-lg mx-auto bg-white rounded-2xl shadow-xl"},ft={class:"px-6 py-4 flex items-center justify-between border-b"},gt={class:"px-6 py-6 grid grid-cols-1 md:grid-cols-2 gap-4"},ht=["value"],yt=["value"],wt={class:"px-6 pb-6 flex flex-col space-y-3 items-center justify-between"},kt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center"},_t={class:"relative w-full max-w-md mx-auto bg-white rounded-2xl shadow-xl"},Ct={class:"px-6 py-4 flex items-center justify-between border-b"},St={class:"px-6 py-6 space-y-3"},Et={class:"px-6 pb-6"},$t=["disabled"],Tt={key:2,class:"fixed inset-0 z-50 flex items-center justify-center"},jt={class:"relative w-full max-w-md mx-auto bg-white rounded-2xl shadow-xl"},Dt={class:"px-6 py-4 flex items-center justify-between border-b"},Mt={class:"text-lg font-semibold text-gray-800"},Rt={class:"px-6 py-6 text-center"},zt={class:"inline-block p-3 border rounded-xl"},qt=["src"],At={__name:"Dashboard",props:{stats:Object,recentTickets:Array,auth:Object,sites:{type:Array,default:()=>[]},currentSite:{type:String,default:""}},setup(T,{expose:ee}){var J;const{proxy:k}=ve(),p=T;a(!1);const te=w(()=>p.sites&&p.sites.length?p.sites:[{label:p.currentSite||"Sales Center Diriyah",value:p.currentSite||"sales-center-diriyah"}]);a(localStorage.getItem("uv:selectedSite")||((J=te.value[0])==null?void 0:J.label)||"Sales Center Diriyah");const x=a(""),j=a(""),se=w(()=>x.value==="phone"?"Request Search":x.value==="ticket"?"Ticket Number":x.value==="plate"?"Car Plate":"Request Search"),A=a("requested"),I=w(()=>p.recentTickets||[]),y=w(()=>{if(!j.value)return I.value;const o=String(j.value).toLowerCase();return I.value.filter(t=>x.value==="phone"?String(t.customer_phone||t.customer_phone_number||"").toLowerCase().includes(o):x.value==="ticket"?String(t.reference||t.id||"").toLowerCase().includes(o):x.value==="plate"?String(t.car_plate||"").toLowerCase().includes(o):String(t.reference||"").toLowerCase().includes(o)||String(t.customer_phone||"").toLowerCase().includes(o))}),_=a(10),b=a(1),P=w(()=>Math.max(1,Math.ceil(y.value.length/_.value))),oe=w(()=>{b.value>P.value&&(b.value=P.value);const o=(b.value-1)*_.value;return y.value.slice(o,o+_.value)}),le=()=>{k.$toast.info("Sorting not changed — demo UI")},re=o=>{const t=String(o||"").toLowerCase();return t.includes("pending")?"bg-amber-100 text-amber-700":t.includes("in_progress")?"bg-blue-100 text-blue-700":t.includes("ready")?"bg-fuchsia-100 text-fuchsia-700":t.includes("delivered")||t.includes("deliver")?"bg-emerald-100 text-emerald-700":t.includes("cancelled")?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-700"},ne=o=>o?new Date(o).toLocaleString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"-",ae=o=>{const t=String(o||"").toLowerCase();return t==="pending"?"CAR PARKED":t==="in_progress"?"CAR REQUESTED BY CUSTOMER":t==="ready"?"CAR READY BY EMPLOYEE":t==="delivered"?"CAR DELIVERED BY EMPLOYEE":t==="cancelled"||t==="canceled"?"CANCELLED":(o||"").toString().replaceAll("_"," ").toUpperCase()},F=o=>`pb-3 border-b-2 ${A.value===o?"border-indigo-700 text-indigo-700 font-semibold":"border-transparent text-gray-500 hover:text-gray-700"}`,g=a(!1),Y=a(new Date().toISOString().slice(0,10)),Q=a(new Date().toISOString().slice(0,10)),H=Array.from({length:24},(o,t)=>{const d=(t+11)%12+1,n=t<12?"AM":"PM";return`${d}:00${n}`}),K=a("12:00PM"),G=a("4:00AM"),ie=()=>{g.value=!1,k.$toast.success("Report filters applied")},C=a(!1),r=a("ready"),f=a(null),de=o=>{f.value=o,o.status==="pending"?r.value="ready":o.status==="ready"&&(r.value="delivered"),C.value=!0},ue=async()=>{var o,t;if(f.value)try{const n=(await axios.post(route("employee.tickets.status.update",{ticket:f.value.id}),{status:r.value})).data.ticket,v=y.value.findIndex(h=>h.id===n.id);v!==-1&&(y.value[v]={...y.value[v],...n}),C.value=!1,k.$toast.success("Ticket status updated successfully!")}catch(d){console.error("Error updating ticket status:",d);const n=((t=(o=d.response)==null?void 0:o.data)==null?void 0:t.message)||"Failed to update ticket status. Please try again.";k.$toast.error(n)}},U=o=>{k.$toast.info(`<div class="flex flex-col">
      <span class="font-semibold">${o.title}</span>
      <span class="text-sm">${o.message}</span>
      ${o.url?`<a href="${o.url}" class="text-blue-500 hover:underline mt-1 text-xs">View Details →</a>`:""}
    </div>`,{position:"top-right",autoClose:8e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastClassName:"!bg-white !text-gray-800 !shadow-lg",bodyClassName:"p-0"})};let D=null,M=null;const ce=()=>{var d,n,v,h;if(console.log("[Employee Dashboard] Setting up Echo channels..."),!window.Echo)return console.error("Echo is not available"),!1;const o=(n=(d=p.auth)==null?void 0:d.user)==null?void 0:n.id,t=(h=(v=p.auth)==null?void 0:v.user)==null?void 0:h.tenant_id;if(!o)return console.error("User ID not available"),!1;try{D=window.Echo.private(`user.${o}`),D.subscribed(()=>{console.log("Successfully subscribed to user."+o)}).listen(".car.requested",l=>{console.log("Received .car.requested event:",l),U({title:"Vehicle Requested",message:l.message||"A vehicle has been requested",url:l.ticket_id?`/tickets/${l.ticket_id}`:null,ticketId:l.ticket_id})}).error(l=>{console.error("Error on user channel:",l)}),console.log("Subscribed to user channel")}catch(l){return console.error("Error setting up user channel:",l),!1}if(t)try{M=window.Echo.private(`organization.${t}.admin`),M.subscribed(()=>{console.log("Successfully subscribed to organization admin channel for org:",t)}).listen(".car.requested",l=>{console.log("Received .car.requested on organization admin channel:",l),U({title:"New Vehicle Request",message:l.message||"A vehicle has been requested in your organization",url:l.ticket_id?`/tickets/${l.ticket_id}`:null,ticketId:l.ticket_id})}).error(l=>{console.error("Error on organization admin channel:",l)}),console.log("Subscribed to organization admin channel")}catch(l){console.error("Error setting up organization admin channel:",l)}return!0};xe(()=>{const o=(t=0)=>{window.Echo?ce():t<10?(console.log(`Echo not initialized yet, retrying... (${t+1}/10)`),setTimeout(()=>o(t+1),500)):console.error("Failed to initialize Echo after multiple attempts")};o()}),be(()=>{var o,t,d,n;D&&(window.Echo.leave(`user.${(t=(o=p.auth)==null?void 0:o.user)==null?void 0:t.id}`),D=null),M&&(window.Echo.leave(`organization.${(n=(d=p.auth)==null?void 0:d.user)==null?void 0:n.tenant_id}.admin`),M=null)});const pe=o=>{window.open(route("employee.tickets.print",{ticket:o.id}),"_blank","width=800,height=600")};return ee({showNotification:U}),(o,t)=>(u(),fe(ge,{title:"Dashboard"},{default:R(()=>{var d,n,v,h,l,W,X,Z;return[e("div",ye,[e("div",we,[e("div",ke,[e("div",_e,[e("div",Ce,[e("div",Se,[t[26]||(t[26]=e("p",{class:"text-sm text-gray-500"},"New",-1)),e("p",Ee,i(((d=T.stats)==null?void 0:d.new_count)??0),1)])])]),e("div",$e,[e("div",Te,[e("div",je,[t[27]||(t[27]=e("p",{class:"text-sm text-gray-500"},"Requested",-1)),e("p",De,i(((n=T.stats)==null?void 0:n.requested_count)??0),1)])])]),e("div",Me,[e("div",Re,[e("div",ze,[t[28]||(t[28]=e("p",{class:"text-sm text-gray-500"},"Delivered",-1)),e("p",qe,i(((v=T.stats)==null?void 0:v.delivered_count)??0),1)])])])]),e("div",Ae,[N(E(B),{href:o.route("employee.tickets.create"),class:"block bg-primary w-full inline-flex items-center justify-center rounded-full text-white h-12 px-6 md:px-10 font-medium"},{default:R(()=>[...t[29]||(t[29]=[e("span",{class:"text-lg"},"+ Add Ticket",-1)])]),_:1},8,["href"])]),e("div",Pe,[e("div",Ue,[e("div",Ne,[e("div",Be,[e("div",Ve,[m(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),class:"block w-full h-12 rounded-xl border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 text-gray-700"},[...t[30]||(t[30]=[e("option",{disabled:"",value:""},"Select Search By",-1),e("option",{value:"phone"},"Customer Phone Number",-1),e("option",{value:"ticket"},"Ticket Number",-1),e("option",{value:"plate"},"Car Plate",-1)])],512),[[z,x.value]])]),e("div",Le,[m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>j.value=s),placeholder:se.value,class:"block w-full h-12 rounded-xl border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 px-4"},null,8,Oe),[[V,j.value]])])])])])]),e("div",Ie,[e("button",{type:"button",onClick:t[2]||(t[2]=s=>g.value=!0),class:"w-full md:w-auto inline-flex items-center justify-center h-12 px-6 rounded-full border border-indigo-300 text-indigo-700 hover:bg-indigo-50"},"Daily Report")]),e("div",Fe,[e("div",Ye,[e("div",Qe,[e("div",He,[e("button",{onClick:t[3]||(t[3]=s=>A.value="requested"),class:$(F("requested"))},"Requested Cars",2),e("button",{onClick:t[4]||(t[4]=s=>A.value="all"),class:$(F("all"))},"All Tickets",2)]),e("div",Ke,[e("button",{class:"hover:opacity-80 bg-none",onClick:le},"Sort"),e("button",{class:"hover:opacity-80",onClick:t[5]||(t[5]=s=>g.value=!0)},"Date")])]),e("div",Ge,[e("table",Je,[t[35]||(t[35]=e("thead",{class:"bg-indigo-900/95 text-white"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Ticket Number"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Status"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Customer Need Car at"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Customer Phone Number"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Total Price/Payment Status"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Car Brand"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Car Plate"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold whitespace-nowrap"},"Note"),e("th",{class:"px-6 py-3 text-left text-sm font-semibold"})])],-1)),e("tbody",null,[y.value.length===0?(u(),c("tr",We,[...t[31]||(t[31]=[e("td",{colspan:"9",class:"px-6 py-16 text-center text-gray-500"},[e("div",{class:"inline-flex flex-col items-center"},[e("svg",{class:"h-12 w-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7h18M3 12h18M3 17h18"})]),e("span",{class:"mt-3"},"No Data")])],-1)])])):S("",!0),(u(!0),c(q,null,L(oe.value,s=>(u(),c("tr",{key:s.id,class:"odd:bg-white even:bg-gray-50"},[e("td",Xe,i(s.reference),1),e("td",Ze,[e("button",{onClick:me=>s.status!=="delivered"&&de(s),class:$([[re(s.status),s.status==="delivered"?"opacity-70 cursor-not-allowed":"cursor-pointer"],"px-3 py-1 rounded-full text-xs font-semibold uppercase"]),disabled:s.status==="delivered"},i(ae(s.status)),11,et)]),e("td",tt,i(ne(s.need_at)),1),e("td",st,i(s.customer_phone||s.customer_phone_number||"-"),1),e("td",ot,i(s.total_price??"Free"),1),e("td",lt,i(s.car_brand||"-"),1),e("td",rt,i(s.car_plate||"-"),1),e("td",nt,i(s.note||"-"),1),e("td",at,[N(E(B),{href:o.route("employee.tickets.show",s.id),class:"hover:text-indigo-900"},{default:R(()=>[...t[32]||(t[32]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])]),_:1},8,["href"]),N(E(B),{href:o.route("employee.tickets.edit",s.id),class:"text-black-500 mr-3"},{default:R(()=>[...t[33]||(t[33]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),e("button",{class:"hover:text-indigo-900",onClick:me=>pe(s)},[...t[34]||(t[34]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,it)])]))),128))])])]),e("div",dt,[e("div",ut,[m(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>_.value=s),class:"h-9 rounded-lg border-gray-300 text-sm"},[...t[36]||(t[36]=[e("option",{value:10},"10 / page",-1),e("option",{value:20},"20 / page",-1),e("option",{value:50},"50 / page",-1)])],512),[[z,_.value,void 0,{number:!0}]])]),e("div",ct,[e("button",{class:"h-9 w-9 rounded-md border border-gray-300 disabled:opacity-40",disabled:b.value===1,onClick:t[7]||(t[7]=s=>b.value--)},"«",8,pt),e("span",mt,i(b.value),1),e("button",{class:"h-9 w-9 rounded-md border border-gray-300 disabled:opacity-40",disabled:b.value>=P.value,onClick:t[8]||(t[8]=s=>b.value++)},"»",8,vt)])])])])])]),g.value?(u(),c("div",xt,[e("div",{class:"absolute inset-0 bg-black/40",onClick:t[9]||(t[9]=s=>g.value=!1)}),e("div",bt,[e("div",ft,[t[37]||(t[37]=e("h3",{class:"text-lg font-semibold text-gray-800"},"Select Date",-1)),e("button",{class:"text-red-500",onClick:t[10]||(t[10]=s=>g.value=!1)},"✕")]),e("div",gt,[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm text-gray-600 mb-1"},"From",-1)),m(e("input",{type:"date","onUpdate:modelValue":t[11]||(t[11]=s=>Y.value=s),class:"block w-full rounded-lg border-gray-300"},null,512),[[V,Y.value]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm text-gray-600 mb-1"},"To",-1)),m(e("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=s=>Q.value=s),class:"block w-full rounded-lg border-gray-300"},null,512),[[V,Q.value]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm text-gray-600 mb-1"},"From",-1)),m(e("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>K.value=s),class:"block w-full rounded-lg border-gray-300"},[(u(!0),c(q,null,L(E(H),s=>(u(),c("option",{key:"f-"+s,value:s},i(s),9,ht))),128))],512),[[z,K.value]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm text-gray-600 mb-1"},"To",-1)),m(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>G.value=s),class:"block w-full rounded-lg border-gray-300"},[(u(!0),c(q,null,L(E(H),s=>(u(),c("option",{key:"t-"+s,value:s},i(s),9,yt))),128))],512),[[z,G.value]])])]),e("div",wt,[e("button",{class:"block w-full h-12 px-8 rounded-full bg-indigo-700 text-white hover:bg-indigo-800",onClick:ie},"Ok"),e("button",{class:"block w-full h-12 px-8 rounded-full border border-gray-300",onClick:t[15]||(t[15]=s=>g.value=!1)},"Cancel")])])])):S("",!0),C.value?(u(),c("div",kt,[e("div",{class:"absolute inset-0 bg-black/40",onClick:t[16]||(t[16]=s=>C.value=!1)}),e("div",_t,[e("div",Ct,[t[42]||(t[42]=e("h3",{class:"text-lg font-semibold text-gray-800"},"UPDATE TICKET STATUS",-1)),e("button",{class:"text-red-500",onClick:t[17]||(t[17]=s=>C.value=!1)},"✕")]),e("div",St,[((h=f.value)==null?void 0:h.status)==="pending"||((l=f.value)==null?void 0:l.status)==="in_progress"?(u(),c(q,{key:0},[e("label",{class:$(["flex items-center justify-between p-4 rounded-xl border cursor-pointer",r.value==="ready"?"border-fuchsia-500 bg-fuchsia-50":"border-gray-200"]),onClick:t[19]||(t[19]=s=>r.value="ready")},[t[43]||(t[43]=e("div",{class:"flex items-center space-x-3"},[e("span",{class:"h-3 w-3 rounded-full bg-fuchsia-600"}),e("span",{class:"text-fuchsia-700 font-medium"},"Car Ready By Employee")],-1)),m(e("input",{type:"radio",class:"hidden",value:"ready","onUpdate:modelValue":t[18]||(t[18]=s=>r.value=s)},null,512),[[O,r.value]])],2),e("label",{class:$(["flex items-center justify-between p-4 rounded-xl border cursor-pointer",r.value==="delivered"?"border-emerald-500 bg-emerald-50":"border-gray-200"]),onClick:t[21]||(t[21]=s=>r.value="delivered")},[t[44]||(t[44]=e("div",{class:"flex items-center space-x-3"},[e("span",{class:"h-3 w-3 rounded-full bg-emerald-600"}),e("span",{class:"text-emerald-700 font-medium"},"Car Delivered By Employee")],-1)),m(e("input",{type:"radio",class:"hidden",value:"delivered","onUpdate:modelValue":t[20]||(t[20]=s=>r.value=s)},null,512),[[O,r.value]])],2)],64)):((W=f.value)==null?void 0:W.status)==="ready"?(u(),c("label",{key:1,class:"flex items-center justify-between p-4 rounded-xl border cursor-pointer border-emerald-500 bg-emerald-50",onClick:t[23]||(t[23]=s=>r.value="delivered")},[t[45]||(t[45]=e("div",{class:"flex items-center space-x-3"},[e("span",{class:"h-3 w-3 rounded-full bg-emerald-600"}),e("span",{class:"text-emerald-700 font-medium"},"Car Delivered By Employee")],-1)),m(e("input",{type:"radio",class:"hidden",value:"delivered","onUpdate:modelValue":t[22]||(t[22]=s=>r.value=s),checked:""},null,512),[[O,r.value]])])):S("",!0)]),e("div",Et,[e("button",{class:"w-full h-12 rounded-full bg-primary hover:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed",onClick:ue,disabled:!r.value}," Update Status ",8,$t)])])])):S("",!0),o.qrModalOpen?(u(),c("div",Tt,[e("div",{class:"absolute inset-0 bg-black/40",onClick:t[24]||(t[24]=s=>o.qrModalOpen=!1)}),e("div",jt,[e("div",Dt,[e("h3",Mt,"Ticket Number# "+i((X=f.value)==null?void 0:X.reference),1),e("button",{class:"text-red-500",onClick:t[25]||(t[25]=s=>o.qrModalOpen=!1)},"✕")]),e("div",Rt,[e("div",zt,[e("img",{src:((Z=f.value)==null?void 0:Z.qr_url)||o.placeholderQr,alt:"QR",class:"h-40 w-40 object-contain"},null,8,qt)]),t[46]||(t[46]=e("div",{class:"mt-6 space-y-3"},[e("button",{class:"w-full h-11 rounded-xl border border-indigo-300 text-indigo-700"},"Print Full Ticker QR"),e("button",{class:"w-full h-11 rounded-xl border border-indigo-300 text-indigo-700"},"Print Ticket Number")],-1))])])])):S("",!0)]}),_:1}))}},Lt=he(At,[["__scopeId","data-v-b8d7fc2d"]]);export{Lt as default};
