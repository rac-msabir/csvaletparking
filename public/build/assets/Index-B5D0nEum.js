import{S as L}from"./SuperAdminLayout-B92Kq9cB.js";import{_ as D}from"./ConfirmationModal-_gEuNI6u.js";import{k as S,B as v,c as x,w as a,a as e,b as g,L as w,d as u,e as h,o as i,t as d,F as b,g as _,n as y,f as m,T as M,Q as E,r as k,E as j}from"./app-DPn6rC6f.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-iYT7sczB.js";const A={components:{SuperAdminLayout:L,ConfirmationModal:D,Link:S},props:{tenants:Object},setup(){var c,f;const n=E(),t=k(!1),o=k(!1);return(c=n.props.flash)!=null&&c.success&&(t.value=!0,setTimeout(()=>{t.value=!1},5e3)),(f=n.props.flash)!=null&&f.error&&(o.value=!0,setTimeout(()=>{o.value=!1},5e3)),j(()=>n.props.flash,(r,l)=>{r&&(r.success&&(!l||r.success!==l.success)&&(t.value=!0,setTimeout(()=>{t.value=!1},5e3)),r.error&&(!l||r.error!==l.error)&&(o.value=!0,setTimeout(()=>{o.value=!1},5e3)))},{deep:!0}),{showSuccess:t,showError:o}},data(){return{confirmingDeletion:!1,tenantToDelete:null,form:M({_method:"DELETE"})}},methods:{confirmDelete(n){this.tenantToDelete=n,this.confirmingDeletion=!0},closeModal(){this.confirmingDeletion=!1,this.tenantToDelete=null},deleteTenant(){this.tenantToDelete&&this.form.delete(route("super-admin.tenants.destroy",this.tenantToDelete.id),{preserveScroll:!0,onSuccess:()=>{this.closeModal()}})},toggleStatus(n){this.$inertia.post(route("super-admin.tenants.toggle-status",n.id),{},{preserveScroll:!0,onError:t=>{this.showError=!0,setTimeout(()=>{this.showError=!1},5e3),this.$page.props.flash={error:"Failed to update tenant status. Please try again."}}})}}},B={class:"fixed bottom-4 right-4 z-50 space-y-4"},N={key:0,class:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},F={class:"p-4"},P={class:"flex items-start"},H={class:"ml-3 w-0 flex-1 pt-0.5"},I={class:"mt-1 text-sm text-gray-500"},O={class:"ml-4 flex-shrink-0 flex"},Q={key:0,class:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},q={class:"p-4"},G={class:"flex items-start"},J={class:"ml-3 w-0 flex-1 pt-0.5"},K={class:"mt-1 text-sm text-gray-500"},R={class:"ml-4 flex-shrink-0 flex"},U={class:"px-4 sm:px-6 lg:px-8"},W={class:"sm:flex sm:items-center"},X={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},Y={class:"mt-8 flex flex-col"},Z={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},V={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},$={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},ee={class:"min-w-full divide-y divide-gray-300"},te={class:"divide-y divide-gray-200 bg-white"},se={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium sm:pl-6"},oe={class:"whitespace-nowrap px-3 py-4 text-sm"},ne={class:"whitespace-nowrap px-3 py-4 text-sm"},re={class:"whitespace-nowrap px-3 py-4 text-sm"},ie={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},le={class:"flex items-center justify-end space-x-2"},ae=["onClick"],de={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},me={class:"flex-1 flex justify-between sm:hidden"},ce={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ue={class:"text-sm text-gray-700"},fe={class:"font-medium"},ge={class:"font-medium"},pe={class:"font-medium"},xe={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},he=["disabled"],ve={key:0},ye={key:1};function we(n,t,o,c,f,r){const l=v("Link"),C=v("ConfirmationModal"),T=v("SuperAdminLayout");return i(),x(T,{title:"Tenant Management"},{default:a(()=>[e("div",B,[g(w,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:a(()=>[c.showSuccess?(i(),u("div",N,[e("div",F,[e("div",P,[t[7]||(t[7]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",H,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-900"}," Success ",-1)),e("p",I,d(n.$page.props.flash.success),1)]),e("div",O,[e("button",{onClick:t[0]||(t[0]=s=>c.showSuccess=!1),class:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[...t[6]||(t[6]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])])])])])):h("",!0)]),_:1}),g(w,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:a(()=>[c.showError?(i(),u("div",Q,[e("div",q,[e("div",G,[t[10]||(t[10]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),e("div",J,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-900"}," Error ",-1)),e("p",K,d(n.$page.props.flash.error),1)]),e("div",R,[e("button",{onClick:t[1]||(t[1]=s=>c.showError=!1),class:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[...t[9]||(t[9]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])])])])])):h("",!0)]),_:1})]),e("div",U,[e("div",W,[t[11]||(t[11]=e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-xl font-semibold text-gray-900"},"Tenants"),e("p",{class:"mt-2 text-sm text-gray-700"},"A list of all tenant organizations in the system.")],-1)),e("div",X,[e("button",{type:"button",onClick:t[2]||(t[2]=s=>n.$inertia.visit(n.route("super-admin.tenants.create"))),class:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto"}," Add tenant ")])]),e("div",Y,[e("div",Z,[e("div",V,[e("div",$,[e("table",ee,[t[14]||(t[14]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold sm:pl-6"},"Name"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold"},"Domain"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold"},"Email"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold"},"Status"),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",te,[(i(!0),u(b,null,_(o.tenants.data,s=>(i(),u("tr",{key:s.id},[e("td",se,d(s.name),1),e("td",oe,d(s.domain),1),e("td",ne,d(s.email),1),e("td",re,[e("span",{class:y(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},d(s.is_active?"Active":"Inactive"),3)]),e("td",ie,[e("div",le,[e("button",{onClick:p=>r.toggleStatus(s),class:y(["inline-flex items-center px-3 py-1.5 border rounded-md text-sm font-medium",s.is_active?"border-red-300 text-red-700 bg-white hover:bg-red-50":"border-green-300 text-green-700 bg-white hover:bg-green-50"])},d(s.is_active?"Deactivate":"Activate"),11,ae),g(l,{href:n.route("super-admin.tenants.edit",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:a(()=>[...t[12]||(t[12]=[m(" Edit ",-1)])]),_:1},8,["href"]),g(l,{href:n.route("super-admin.tenants.show",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:a(()=>[...t[13]||(t[13]=[m(" Show ",-1)])]),_:1},8,["href"])])])]))),128))])]),e("div",de,[e("div",me,[o.tenants.prev_page_url?(i(),x(l,{key:0,href:o.tenants.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:a(()=>[...t[15]||(t[15]=[m(" Previous ",-1)])]),_:1},8,["href"])):h("",!0),o.tenants.next_page_url?(i(),x(l,{key:1,href:o.tenants.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:a(()=>[...t[16]||(t[16]=[m(" Next ",-1)])]),_:1},8,["href"])):h("",!0)]),e("div",ce,[e("div",null,[e("p",ue,[t[17]||(t[17]=m(" Showing ",-1)),e("span",fe,d(o.tenants.from),1),t[18]||(t[18]=m(" to ",-1)),e("span",ge,d(o.tenants.to),1),t[19]||(t[19]=m(" of ",-1)),e("span",pe,d(o.tenants.total),1),t[20]||(t[20]=m(" results ",-1))])]),e("div",null,[e("nav",xe,[(i(!0),u(b,null,_(o.tenants.links,(s,p)=>(i(),x(l,{key:p,href:s.url,class:y(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",p===0?"rounded-l-md":"",p===o.tenants.links.length-1?"rounded-r-md":""]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])])])])])])]),g(C,{show:f.confirmingDeletion,onClose:r.closeModal},{title:a(()=>[...t[21]||(t[21]=[m(" Delete Tenant ",-1)])]),content:a(()=>[...t[22]||(t[22]=[m(" Are you sure you want to delete this tenant? This action cannot be undone. ",-1)])]),footer:a(()=>[e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:t[3]||(t[3]=(...s)=>r.closeModal&&r.closeModal(...s))}," Cancel "),e("button",{type:"button",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",onClick:t[4]||(t[4]=(...s)=>r.deleteTenant&&r.deleteTenant(...s)),disabled:f.form.processing},[f.form.processing?(i(),u("span",ve,"Deleting...")):(i(),u("span",ye,"Delete"))],8,he)]),_:1},8,["show","onClose"])]),_:1})}const Le=z(A,[["render",we]]);export{Le as default};
